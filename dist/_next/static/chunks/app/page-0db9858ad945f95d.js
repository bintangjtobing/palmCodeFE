(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6177:function(e,t,a){Promise.resolve().then(a.bind(a,2540))},2540:function(e,t,a){"use strict";a.d(t,{default:function(){return S}});var s=a(7437),r=a(2265),n=a(7150),l=a(7386),i=a(3138);function o(e){let{data:t,hiddenAvatar:a,label:r,handleChange:o,handleCountry:d,handleBoard:c}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex flex-wrap w-full gap-4 md:flex-nowrap dark",children:(0,s.jsx)(n.d,{defaultItems:t,label:"Select "+r,className:"w-full h-full inter",radius:"none",color:"default",onSelectionChange:e=>{"country"===r&&d?d(e):"board"===r&&c&&c(e)},children:e=>(0,s.jsx)(l.R,{className:"inter",startContent:(0,s.jsx)(i.h,{alt:null==e?void 0:e.label,className:"".concat(a?"hidden":""," w-5 h-5"),src:null==e?void 0:e.flagSrc}),value:null==e?void 0:e.value,children:null==e?void 0:e.label},null==e?void 0:e.value)})})})}var d=a(2126),c=a(2649);async function u(e){let{endPoint:t}=e;try{return(await d.Z.get("https://be-palmcode.octansidn.com/api/"+t,{withXSRFToken:!0,headers:{withCredentials:!0,Authorization:"Bearer ".concat("3|U2zR6itoSGhj8JR12dEwRcGtBgpXNcve9AHwj6Dv01f72008")}})).data}catch(e){throw console.error("Error in API request:",e),e}}async function m(e){let{endPoint:t,dataBody:a}=e;try{return(await d.Z.post("https://be-palmcode.octansidn.com/api/"+t,a,{headers:{"X-XSRF-TOKEN":c.Z.get("csrf_token"),Authorization:"Bearer ".concat("3|U2zR6itoSGhj8JR12dEwRcGtBgpXNcve9AHwj6Dv01f72008"),"Content-Type":"multipart/form-data",withCredentials:!0}})).data}catch(e){throw console.error("Error in API request:",e),e}}function h(e){let{handleChange:t,handleCountry:a,validationError:n,validationCountry:l}=e,[i,d]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{try{let{data:e,status:t}=await u({endPoint:"countries"});if(200===t){let t=e.map(e=>({value:e.id,label:e.country_name,flagSrc:e.icon_name}));d(t)}else console.error("Failed to fetch data. Status: ".concat(t))}catch(e){console.error("An error occurred while fetching data:",e)}})()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"mb-5 text-5xl bodoni-moda",children:"Book Your Visit"}),(0,s.jsx)("p",{className:"text-sm inter",children:"1/3: VISITOR DETAILS"}),(0,s.jsxs)("form",{className:"grid grid-cols-2 mt-12 mb-12 gap-x-10 gap-y-14 inter",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("input",{onChange:t,name:"name",className:"py-5 px-4 bg-[#232323] w-full mb-2",type:"text",placeholder:"Name"}),null==n?void 0:n.map(e=>"name"===e.path[0]&&(0,s.jsx)("p",{className:"text-red-500",children:e.message},e.path[0]))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o,{data:i,label:"country",handleChange:t,handleCountry:a,hiddenAvatar:!1}),(0,s.jsx)("p",{className:"text-red-500 mt-2 ".concat(l?"hidden":""),children:"Please select your country"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{onChange:t,name:"email",className:"py-5 px-4 bg-[#232323] w-full mb-2",type:"email",placeholder:"Email"}),null==n?void 0:n.map(e=>"email"===e.path[0]&&(0,s.jsx)("p",{className:"text-red-500",children:e.message},e.path[0]))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{onChange:t,name:"whatsapp_number",className:"py-5 px-4 bg-[#232323] w-full mb-2",type:"text",placeholder:"Whatsapp number"}),null==n?void 0:n.map(e=>"whatsapp_number"===e.path[0]&&(0,s.jsx)("p",{className:"text-red-500",children:e.message},e.path[0]))]})]})]})}var x=a(5094);function p(e){let{value:t,setValue:a}=e;return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"mb-14",children:"Your Surfing Experience"}),(0,s.jsx)(x.L,{step:1,maxValue:10,minValue:0,defaultValue:t,showTooltip:!0,showOutline:!1,disableThumbScale:!1,onChangeEnd:a,classNames:{base:"w-full",filler:"bg-gradient-to-r from-white to-teal-400",labelWrapper:"mb-2",label:"font-medium text-white text-medium mb-7",value:"font-medium text-default-500 text-small",thumb:["transition-size","bg-gradient-to-r from-teal-400 to-white","data-[dragging=true]:shadow-lg data-[dragging=true]:shadow-black/20","data-[dragging=true]:w-7 data-[dragging=true]:h-7 data-[dragging=true]:after:h-7 data-[dragging=true]:after:w-7","custom-thumb"],step:"data-[in-range=true]:bg-black/30 dark:data-[in-range=true]:bg-white/50"},tooltipProps:{offset:10,placement:"top",classNames:{base:["before:bg-gradient-to-r before:from-white before:to-teal-400"],content:["py-2 shadow-xl","text-white bg-[#05B3BE]"]}}}),(0,s.jsxs)("div",{className:"absolute flex justify-between w-full",style:{top:"45px"},children:[(0,s.jsx)("span",{children:"0"}),(0,s.jsx)("span",{children:"1"}),(0,s.jsx)("span",{children:"2"}),(0,s.jsx)("span",{children:"3"}),(0,s.jsx)("span",{children:"4"}),(0,s.jsx)("span",{children:"5"}),(0,s.jsx)("span",{children:"6"}),(0,s.jsx)("span",{children:"7"}),(0,s.jsx)("span",{children:"8"}),(0,s.jsx)("span",{children:"9"}),(0,s.jsx)("span",{children:"10+"})]})]})}function g(e){let{value:t,setValue:a,handleChange:n,handleBoard:l,validationError:i,validationBoard:d}=e,[c,u]=(0,r.useState)("text");return(0,r.useEffect)(()=>{console.log(i)},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"mb-5 text-5xl bodoni-moda",children:"Book Your Visit"}),(0,s.jsx)("p",{className:"text-sm inter",children:"2/3: SURFING EXPERIENCE"}),(0,s.jsxs)("form",{className:"grid grid-cols-2 mt-12 mb-12 gap-x-10 gap-y-7 inter",children:[(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)(p,{setValue:a,value:t})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{placeholder:"Visit date",className:"py-5 px-4 bg-[#232323] w-full textbox-n",type:c,onFocus:()=>{u("date")},onBlur:()=>{u("text")},id:"visit_date",name:"visit_date",onChange:n}),i&&(null==i?void 0:i.map(e=>"visit_date"===e.path[0]&&(0,s.jsx)("p",{className:"mt-2 text-red-500",children:e.message},e.path[0])))]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(o,{data:[{label:"Longboard",value:"longboard"},{label:"Funboard",value:"funboard"},{label:"Shortboard",value:"shortboard"},{label:"Fishboard",value:"fishboard"},{label:"Gunboard",value:"gunboard"}],hiddenAvatar:!0,label:"board",handleBoard:l}),(0,s.jsx)("p",{className:"text-red-500 mt-2 ".concat(d?"hidden":""),children:"Please select your board"})]})]})]})}function f(e){let{uploadedFile:t,setUploadedFile:a,validationImage:n,messageValidationImage:l}=e,[i,o]=(0,r.useState)(!1),d=(0,r.useRef)(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"mb-5 text-5xl bodoni-moda",children:"Book Your Visit"}),(0,s.jsx)("p",{className:"text-sm inter",children:"3/3: ID VERIFICATION"}),(0,s.jsxs)("form",{className:"grid grid-cols-2 mt-12 gap-x-10 gap-y-14 inter ".concat(n?"mb-12":""),onDrop:e=>{e.preventDefault(),o(!1);let t=e.dataTransfer.files[0];console.log("File yang diunggah:",t),a(t)},onDragOver:e=>{e.preventDefault(),o(!0)},onDragLeave:()=>{o(!1)},children:[(0,s.jsx)("p",{className:"col-span-2",children:"Help us verify your identity by uploading a photo of your ID/KTP or Passport"}),(0,s.jsx)("div",{className:"bg-[#1A1A1A] p-5 col-span-2 cursor-pointer ".concat(i?"border-dashed border-2 border-blue-500":""),onClick:()=>{var e;null===(e=d.current)||void 0===e||e.click()},children:t?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(0,s.jsx)("svg",{className:"w-6 h-6 text-[#BAFF00] dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",d:"M10 3v4a1 1 0 0 1-1 1H5m14-4v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1Z"})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-semibold text-md",children:t.name}),(0,s.jsxs)("p",{className:"text-[#6A6A6A]",children:[(t.size/1024).toFixed(2)," KB"]})]})]}),(0,s.jsx)("svg",{onClick:()=>a(void 0),className:"w-6 h-6 text-red-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18 17.94 6M18 18 6.06 6"})})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xl font-bold",children:"Drag & Drop"}),(0,s.jsx)("p",{className:"my-5 text-[#6A6A6A]",children:"or select file from device max. 2MB"}),(0,s.jsx)("input",{ref:d,className:"hidden",type:"file",onChange:e=>{let t=e.target.files[0];console.log("File yang diunggah:",t),a(t)}}),(0,s.jsx)("p",{className:"text-xl underline",children:"Upload"})]})})})]}),(0,s.jsx)("p",{className:"text-red-500 mt-2 mb-12 ".concat(n?"hidden":""),children:l})]})}var b=a(6648);function v(e){var t,a,n,l;let{dataBooking:i}=e,[o,d]=(0,r.useState)({});return(0,r.useEffect)(()=>{(async()=>{try{var e;let{data:t,status:a}=await u({endPoint:"countries/".concat(null==i?void 0:null===(e=i.member)||void 0===e?void 0:e.country_id)});200==a&&d(t)}catch(e){}})()},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h1",{className:"mb-5 text-5xl bodoni-moda",children:["Thank you, ",null==i?void 0:null===(t=i.member)||void 0===t?void 0:t.name]}),(0,s.jsx)("p",{className:"text-base inter",children:"You,re in!"}),(0,s.jsx)("p",{className:"mt-5 text-base inter",children:"Your store visit is booked and you're ready to ride the shopping wave. Hereâ€™s your detail:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-5 mt-5 mb-10 inter",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base text-gray-400",children:"Name:"}),(0,s.jsx)("p",{className:"text-lg",children:null==i?void 0:null===(a=i.member)||void 0===a?void 0:a.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base text-gray-400",children:"Country:"}),(0,s.jsxs)("p",{className:"flex items-center gap-2 text-lg",children:[(0,s.jsx)(b.default,{className:"w-5 h-5",src:null==o?void 0:o.icon_name,width:10,height:10,alt:"flag icon"}),null==o?void 0:o.country_name]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base text-gray-400",children:"Email:"}),(0,s.jsx)("p",{className:"text-lg",children:null==i?void 0:null===(n=i.member)||void 0===n?void 0:n.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base text-gray-400",children:"Visit date:"}),(0,s.jsx)("p",{className:"text-lg",children:null==i?void 0:null===(l=i.surfing_booking)||void 0===l?void 0:l.visit_date})]})]}),(0,s.jsxs)("p",{className:"mb-20 inter",children:["We look forward to seeing you at the #Swellmatch store! ",(0,s.jsx)("br",{})," Your booking details already sent to your email and whatsapp"]})]})}var j=a(8589);function w(){return(0,s.jsx)(j.Z,{color:"default","aria-label":"Loading..."})}var N=a(9772),y=a(4379),k=a.n(y);let _=a(6755);function S(){let[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)(null),[l,i]=(0,r.useState)(1),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),[x,p]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!0),[y,S]=(0,r.useState)("Please upload your identity"),[C,E]=(0,r.useState)({name:"",email:"",whatsapp_number:"",surfing_experience:"",visit_date:"",desired_board:"",verification_photo:""}),[B,A]=(0,r.useState)(0),[F,T]=(0,r.useState)(void 0),[I,P]=(0,r.useState)({}),[R,V]=(0,r.useState)(!1),z=N.z.object({name:N.z.string().min(3).max(30),email:N.z.string().email({message:"Invalid email format"}),whatsapp_number:N.z.string().regex(/^\+[1-9]\d{1,14}$/,{message:"Use +(country code). Ex: +62812345678"})}),D=N.z.object({visit_date:N.z.string().date()}),O=["png","jpg","jpeg"],L=e=>{n(()=>e)},Y=e=>{d(e)},H=t=>{let{name:s,value:r}=null==t?void 0:t.target;E(t=>({...t,country_id:parseInt(null!=o?o:"0"),surfing_experience:B,desired_board:a,verification_photo:e,[s]:r}))};(0,r.useEffect)(()=>{E(t=>({...t,desired_board:a,verification_photo:e}))},[a,e]);let G=async()=>{if(T([]),l<3)try{1===l?(u(null!==o),z.parse(C),null!==o&&i(l+1)):2===l&&(p(null!==a),D.parse(C),null!==a&&i(l+1))}catch(e){console.error(e.errors),T(e.errors)}else{V(!0);try{if(null!==e){if(e.size>2097152)S("File is too large"),V(!1);else{let t=_.lookup(e.name),a=t?_.extension(t):null;if(a&&O.includes(a)){let{data:e,status:t}=await m({endPoint:"booking",dataBody:C});(200==t||201==t)&&(k().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=k().stopTimer,e.onmouseleave=k().resumeTimer}}).fire({icon:"success",title:"Your book visit request has been recorded."}),P(e),i(l+1),V(!1))}else S("The file type is not supported or is not an image"),V(!1)}}else j(!1),V(!1)}catch(t){let e="An unexpected error occurred.";t.isAxiosError&&t.response&&t.response.data&&t.response.data.message&&(e=t.response.data.message),k().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=k().stopTimer,e.onmouseleave=k().resumeTimer}}).fire({icon:"error",title:e}),V(!1)}}};return(0,r.useEffect)(()=>{let e;return 4===l&&(e=setTimeout(()=>{i(1),E({name:"",email:"",whatsapp_number:"",surfing_experience:"",visit_date:"",desired_board:"",verification_photo:""}),T(void 0)},1e4)),()=>clearTimeout(e)},[l]),(0,s.jsxs)(s.Fragment,{children:[(()=>{switch(l){case 1:return(0,s.jsx)(h,{validationCountry:c,handleChange:H,handleCountry:Y,validationError:F});case 2:return(0,s.jsx)(g,{validationBoard:x,setValue:A,handleChange:H,value:B,handleBoard:L,validationError:F});case 3:return(0,s.jsx)(f,{messageValidationImage:y,uploadedFile:e,setUploadedFile:t,validationImage:b});case 4:return(0,s.jsx)(v,{dataBooking:I});default:return null}})(),l<4&&(0,s.jsx)("button",{disabled:R,className:"font-semibold text-black bg-white text-md ".concat(3===l&&R?"flex gap-2 items-center px-10 py-2":"px-16 py-4"),onClick:G,children:3===l&&R?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w,{})," ",(0,s.jsx)("p",{children:"Book my visit"})]}):3===l?"Book my visit":"Next"}),4===l&&(0,s.jsx)("p",{className:"text-base text-gray-400",children:"This form will refresh automatically in 10 seconds"})]})}}},function(e){e.O(0,[461,916,359,971,23,744],function(){return e(e.s=6177)}),_N_E=e.O()}]);